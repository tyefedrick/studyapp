<!-- app/views/flashcard_sets/edit.html.erb -->
<h1>Edit Flashcard Set</h1>
<%= form_with(model: @flashcard_set, local: true) do |form| %>
<!-- Flashcard Set Title -->
<div class="field">
    <%= form.label :title %>
    <%= form.text_field :title, required: true %>
</div>

<!-- Flashcard Set Description -->
<div class="field">
    <%= form.label :description %>
    <%= form.text_area :description %>
</div>

<!-- Flashcards Section -->
<h2>Flashcards</h2>
<div id="flashcards">
    <%= form.fields_for :flashcards do |flashcard_form| %>
    <%= render 'flashcard_fields', f: flashcard_form %>
    <% end %>
</div>

<!-- Button to Add New Flashcard -->
<div class="actions">
    <%= link_to_add_association 'Add Flashcard', form, :flashcards, 
        partial: 'flashcard_fields', 
        class: 'btn btn-primary',
        data: {
          association_insertion_node: '#flashcards', 
          association_insertion_method: :append
        } %>
</div>

<!-- Submit Button -->
<div class="actions">
    <%= form.submit 'Save Changes', class: 'btn btn-success' %>
</div>
<% end %>